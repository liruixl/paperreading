我看到了java中的static方法，并且主函数就是static方法：

```java
public static void main(String[] args){
    //代码
}
```

并且我还经常在主函数中直接调用同是本类的但不是static的方法，哈哈，当然报错了。

最近看C#项目，我还看到了C#中有的类是static的。

非常混乱，所以想搞清楚static到底是什么？为什么有他的存在。JAVA中有：

+ static方法

+ static变量

  static变量也称作静态变量，静态变量和非静态变量的区别是：**静态变量被所有的对象所共享，在内存中只有一个副本，它当且仅当在类初次加载时会被初始化**。而非静态变量是对象所拥有的，在创建对象的时候被初始化，存在多个副本，各个对象拥有的副本互不影响。

  static成员变量的初始化顺序按照定义的顺序进行初始化。

  从代码到执行粗糙的步骤：

  第一步(编译): 创建完源文件之后，程序会先被编译为.class文件。Java编译一个类时，如果这个类所依赖的类还没有被编译，编译器就会先编译这个被依赖的类，然后引用，否则直接引用，这个有点象make。如果java编译器在指定目录下找不到该类所其依赖的类的.class文件或者.java源文件的话，编译器话报“cant find symbol”的错误。 

  第二步（运行）：java类运行的过程大概可分为两个过程：1、**类的加载**  2、类的执行。需要说明的是：JVM主要在程序第一次主动使用类的时候，才会去加载该类。也就是说，JVM并不是在一开始就把一个程序就所有的类都加载到内存中，而是到不得不用的时候才把它加载进来，而且只加载一次。 

+ static代码块

  static关键字还有一个比较关键的作用就是 用来形成静态代码块以优化程序性能。static块可以置于类中的任何地方，类中可以有多个static块。在类初次被加载的时候，会按照static块的顺序来执行每个static块，并且只会执行一次。 

  可用于优化程序性能，比如类中每次创建对象都重复的代码。

在《Java编程思想》P86页有这样一段话：

>  static方法就是没有this的方法（ps：因为不依赖对象）。在static方法内部不能调用非静态方法，**反过来是可以的**（ps：没什么不可以的理由）。而且可以在没有创建任何对象的前提下，仅仅通过类本身来调用static方法。这实际上正是static方法的主要用途。

这个特性方便在没有创建对象的情况下来进行调用（方法/变量）。 

1. 为什么不能调用非static方法？

> static方法一般称作静态方法，由于静态方法不依赖于任何对象就可以进行访问，因此对于静态方法来说，是没有this的，因为它不依附于任何对象，既然都没有对象，就谈不上this了。并且由于这个特性，在静态方法中不能访问类的非静态成员变量和非静态成员方法，因为非静态成员方法/变量都是必须依赖具体的对象才能够被调用。 

可以想象，对象还没有的时候去使用其非静态成员，根本就不存在呢。所以我每次没有创建对象就直接在main中调用本类的非静态方法是非常愚蠢的。

2. 那能不能在static方法中，通过new一个本类对象调用非静态方法呢？

能。所以也可以通过`this`访问静态成员变量。

3. main为啥是static方法？

因为运行此`main`方法时并没用创建对象。

4. static能作用于局部变量么？ 

在C/C++中static是可以作用域局部变量的，但是在Java中切记：static是不允许用来修饰局部变量。不要问为什么，这是Java语法的规定。 看 [激烈的讨论](http://www.debugease.com/j2se/178932.html)。

static块可以出现类中的任何地方（只要不是方法内部，记住，任何方法内部都不行）。







。。。。。。。

那C++/C#的static类呢？





参考：

[Java中的static关键字解析](https://www.cnblogs.com/dolphin0520/p/3799052.html)

